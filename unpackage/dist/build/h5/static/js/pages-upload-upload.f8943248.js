(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-upload-upload"],{"09ce":function(t,e,a){t.exports=a.p+"static/img/upfile.b22c08f0.png"},"0c52":function(t,e,a){var i=a("0f68");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("b7c0b36e",i,!0,{sourceMap:!1,shadowMode:!1})},"0f68":function(t,e,a){var i=a("24fb"),n=a("1de5"),o=a("68d6");e=i(!1);var c=n(o);e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.wrap[data-v-0e7c8054]{background:#fff;width:90%;margin:0 auto;border-radius:16px;box-sizing:border-box;padding:%?30?% 0 %?60?% 0;text-align:center}.text[data-v-0e7c8054]{color:#333;font-size:%?36?%;font-weight:700}.s-text[data-v-0e7c8054]{font-size:%?24?%;margin:%?10?% 0 %?20?% 0}.ending[data-v-0e7c8054]{width:100%;height:%?80?%;background:#0067e7;line-height:%?80?%;text-align:center;color:#fff;font-size:%?24?%}.content[data-v-0e7c8054]{width:100%;height:100%}.content .top-back-img[data-v-0e7c8054]{background:url('+c+") no-repeat;background-size:100% 100%;width:100%;height:100%;position:relative;top:1px;overflow:hidden}.content .top-back-img uni-view[data-v-0e7c8054]{width:65%;height:%?80?%;line-height:%?80?%;margin:%?280?% auto %?100?% auto;border-radius:%?15?%;background:#fff;color:#52a1fe;font-weight:700;font-size:%?30?%;text-align:center}.content .upImg[data-v-0e7c8054]{width:100%}.content .upImg .img-wrap[data-v-0e7c8054]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.content .upImg .img-wrap .img-item[data-v-0e7c8054]{width:25%;border:1px solid #ccc;height:%?168?%;line-height:%?168?%;text-align:center;font-size:%?60?%;font-weight:100;color:#ccc;margin-left:6%;margin-bottom:6%;position:relative}.content .upImg .img-wrap .img-item uni-image[data-v-0e7c8054]{width:100%;height:100%}.content .upImg .img-wrap .img-item uni-view[data-v-0e7c8054]{background:#ec0d19;width:%?45?%;height:%?45?%;text-align:center;border-radius:50%;position:absolute;right:%?-15?%;top:%?-15?%;color:#fff;line-height:%?35?%;z-index:10}.content .upVideo[data-v-0e7c8054]{width:100%;margin-top:%?40?%}.content .upVideo .video-item[data-v-0e7c8054]{width:60%;margin:0 auto;border:1px solid #ccc;height:%?268?%;line-height:%?268?%;text-align:center;font-size:%?60?%;font-weight:100;color:#ccc;position:relative}.content .upVideo .video-item uni-video[data-v-0e7c8054]{width:100%;height:100%}.content .upVideo .video-item .close[data-v-0e7c8054]{background:#ec0d19;width:%?45?%;height:%?45?%;text-align:center;border-radius:50%;position:absolute;right:%?-38?%;top:%?-38?%;color:#fff;line-height:%?35?%;z-index:100}.content .submit[data-v-0e7c8054]{overflow:hidden}.content .submit uni-view[data-v-0e7c8054]{width:28%;height:%?90?%;margin:%?40?% auto}.content .submit uni-view uni-image[data-v-0e7c8054]{width:100%;height:100%}",""]),t.exports=e},"1de5":function(t,e,a){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},3655:function(t,e,a){"use strict";a.r(e);var i=a("9ea9"),n=a("51b8");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("53e5");var c,s=a("f0c5"),u=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"0e7c8054",null,!1,i["a"],c);e["default"]=u.exports},"51b8":function(t,e,a){"use strict";a.r(e);var i=a("69fd"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"53e5":function(t,e,a){"use strict";var i=a("0c52"),n=a.n(i);n.a},"68d6":function(t,e,a){t.exports=a.p+"static/img/title-back-img.33daf07b.png"},"69fd":function(t,e,a){"use strict";var i=a("4ea4");a("a434"),a("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c5fe")),o={data:function(){return{tempVideoFilePath:"",tempImgFilePath:[],upState:""}},mounted:function(){this.getfileList()},methods:{getfileList:function(){var t=this;uni.request({url:"https://wechat.ip885.cn/tvyun/?m=act&a=airShow2020&sa=myInfo",success:function(e){t.upState=e.data.code,console.log(t.upState),0==Object.keys(e.data.data).length||""===e.data.data.p1||null===e.data.data.p1?console.log(1):t.tempImgFilePath.push(e.data.data.p1),0==Object.keys(e.data.data).length||""===e.data.data.p2||null===e.data.data.p2?console.log(2):t.tempImgFilePath.push(e.data.data.p2),0==Object.keys(e.data.data).length||""===e.data.data.p3||null===e.data.data.p3?console.log(3):t.tempImgFilePath.push(e.data.data.p3),0==Object.keys(e.data.data).length||""===e.data.data.p4||null===e.data.data.p4?console.log(4):t.tempImgFilePath.push(e.data.data.p4),0==Object.keys(e.data.data).length||""===e.data.data.p5||null===e.data.data.p5?console.log(5):t.tempImgFilePath.push(e.data.data.p5),0==Object.keys(e.data.data).length||""===e.data.data.video||null===e.data.data.video?console.log(6):t.tempVideoFilePath=e.data.data.video,console.log(t.tempImgFilePath)}})},upVideo:function(){var t=this;1==this.upState?uni.chooseVideo({count:1,compressed:!0,success:function(e){if(e.size>5242880)return uni.showToast({title:"视频大小超过5M，请重新上传！",icon:"none"}),!1;var a=new FormData;a.append("file",e.tempFile),uni.showToast({icon:"loading",title:"请稍等"}),(0,n.default)({url:"https://wechat.ip885.cn/tvyun/?m=act&a=airShow2020&sa=upload_file",data:a,method:"post",headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data.data),t.tempVideoFilePath=e.data.data,uni.showToast({icon:"success",title:"完成"})}))}}):uni.showModal({content:"报名后才能参加活动",showCancel:!1,success:function(t){t.confirm&&uni.navigateTo({url:"../signup/signup"})}})},upImg:function(){var t=this;1==this.upState?uni.chooseImage({count:5,sizeType:["original","compressed"],success:function(e){if(e.tempFilePaths.length>5)uni.showToast({icon:"none",title:"最多上传5张图片"});else for(var a=0;a<e.tempFilePaths.length;a++){if(e.tempFiles[a].size>5242880)return uni.showToast({title:"图片大小超过5M，请重新上传！",icon:"none"}),!1;var i=new FormData;i.append("file",e.tempFiles[a]),(0,n.default)({url:"https://wechat.ip885.cn/tvyun/?m=act&a=airShow2020&sa=upload_file",data:i,method:"post",headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data.data),t.tempImgFilePath.push(e.data.data)}))}}}):uni.showModal({content:"报名后才能参加活动",showCancel:!1,success:function(t){t.confirm&&uni.navigateTo({url:"../signup/signup"})}})},closeVideo:function(){this.tempVideoFilePath=""},closeImg:function(t){return this.tempImgFilePath.splice(t,1)},fullScreen:function(){var t=uni.createVideoContext("Fvideo");t.requestFullScreen()},outFullScreen:function(t){console.log(t.detail.fullScreen);var e=uni.createVideoContext("Fvideo");t.detail.fullScreen||e.pause()},preImg:function(t){uni.previewImage({urls:this.tempImgFilePath,current:t})},submit:function(){var t=new FormData,e=this.tempImgFilePath[0]||"",a=this.tempImgFilePath[1]||"",i=this.tempImgFilePath[2]||"",o=this.tempImgFilePath[3]||"",c=this.tempImgFilePath[4]||"";t.append("video",this.tempVideoFilePath),t.append("p1",e),t.append("p2",a),t.append("p3",i),t.append("p4",o),t.append("p5",c),(0,n.default)({url:"https://wechat.ip885.cn/tvyun/?m=act&a=airShow2020&sa=updatePerson",data:t,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t.data),1==t.data.code?uni.showToast({icon:"success",title:"上传成功"}):uni.showToast({icon:"none",title:t.data.message})}))}}};e.default=o},"9ea9":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"top-back-img"},[i("v-uni-view",[i("v-uni-text",[t._v("2021年9月28日-10月3日")])],1)],1),i("v-uni-view",{staticStyle:{background:"rgb(84, 152, 239)"}},[i("v-uni-view",{staticClass:"upImg"},[i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-text",[t._v("13公里截图")])],1),i("v-uni-view",{staticClass:"s-text"},[i("v-uni-text",[t._v("最多上传5张打卡照片")])],1),i("v-uni-view",{staticClass:"img-wrap"},[t._l(t.tempImgFilePath,(function(e,a){return i("v-uni-view",{key:e,staticClass:"img-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upImg.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:e},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.preImg(a)}}}),i("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.closeImg(a)}}},[i("v-uni-text",[t._v("-")])],1)],1)})),t._l(5-t.tempImgFilePath.length,(function(e,a){return i("v-uni-view",{key:a,staticClass:"img-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upImg.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("+")])],1)}))],2)],1)],1),i("v-uni-view",{staticClass:"upVideo"},[i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-text",[t._v("打CALL视频")])],1),i("v-uni-view",{staticClass:"s-text"},[i("v-uni-text",[t._v("视频长度15-30秒，不大于5M")])],1),i("v-uni-view",{staticClass:"video-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upVideo.apply(void 0,arguments)}}},[""!==t.tempVideoFilePath?i("v-uni-video",{attrs:{id:"Fvideo",src:t.tempVideoFilePath,controls:!0},on:{fullscreenchange:function(e){arguments[0]=e=t.$handleEvent(e),t.outFullScreen.apply(void 0,arguments)},play:function(e){arguments[0]=e=t.$handleEvent(e),t.fullScreen.apply(void 0,arguments)}}}):t._e(),""!==t.tempVideoFilePath?i("v-uni-view",{staticClass:"close",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.closeVideo.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("-")])],1):i("v-uni-text",[t._v("+")])],1)],1)],1),i("v-uni-view",{staticClass:"submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[i("v-uni-view",[i("v-uni-image",{attrs:{src:a("09ce")}})],1)],1)],1),i("v-uni-view",{staticClass:"ending"},[i("v-uni-text",[t._v("珠海传媒融创科技有限公司")])],1)],1)},o=[]}}]);